(this["webpackJsonppqua-automation"]=this["webpackJsonppqua-automation"]||[]).push([[0],{121:function(e){e.exports=JSON.parse('{"pquaWiki":"https://wiki.corp.adobe.com/display/aigt/PQuA+Automation","pquaAutomationWiki":"https://wiki.corp.adobe.com/display/aigt/PQuA+Automation","pquaGrpEmail":"mailto:pqua@adobe.com","faqsPage":"https://wiki.corp.adobe.com/display/aigt/PQuA+Automation#PQuA-2150461"}')},240:function(e,t,a){e.exports=a.p+"static/media/logo.99faade2.png"},262:function(e,t,a){e.exports=a.p+"static/media/PQuA 2021 Templates.a205cfb0.zip"},293:function(e,t,a){e.exports=a(677)},360:function(e,t,a){},406:function(e,t){},43:function(e){e.exports=JSON.parse('{"glaasUrl":"https://glaas-qa.corp.adobe.com/","baseApi":"https://pqua-qa.corp.ethos53-stage-or2.stage.ethos.corp.adobe.com/api/","glaasAuthApi":"api/common/sweb/oauth/authorize?response_type=token&client_id=","glaasCheckSessionApi":"api/common/v1.0/checkSession","glaasProductApi":"api/l10n/v1.2/projects","viewerApis":{"allBugCategories":"Viewer/all_bug_categories","allProducts":"Viewer/all_products_list","dataResult":"Viewer/data_result","productsIqe":"Viewer/products_iqe"},"iqeApis":{"fetchJQL":"IQE/fetch_jql_string","postJql":"IQE/inserts_jql_string"},"pquaAqbApis":{"aqbResult":"PQuA-AQB/aqb_result","pquaDownload":"PQuA-AQB/PQuASheet_download/","pquaResult":"PQuA-AQB/pqua_result","aqbPods":"PQuA-AQB/aqb_admin_pods","templateDownload":"PQuA-AQB/PQuATemplate_download_1"},"admin":{},"clientId":"851d9a4e-7056-474c-b1a6-7739a301c2c2"}')},677:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(27),r=a.n(o),l=a(15),i=a(16),c=a(28),u=a(29),d=a(721),m=a(737),p=a(69),h=a(88),g=a(118),b=a(748);a(722),a(240);var f=a(7),E=a(142),v=a(736),w=a(89),S=a(151),y=a(178),D=a(102),P=a(43),k=a(270),C=a(47),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.list,t=this.props.selectionHandler;return s.a.createElement(k.a,{flexGrow:"400",isDisabled:0==e.length,label:this.props.label,onSelectionChange:function(e){return t(e)}},e.map((function(e){return s.a.createElement(C.a,{key:e},e)})))}}]),a}(n.Component),q=a(247),B=a.n(q),j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.headers,t=this.props.data;return s.a.createElement(y.b,{"aria-label":"Generic table component",marginTop:"size-300",height:"size=3000",overflowMode:"wrap"},s.a.createElement(D.e,null,e.map((function(e){return s.a.createElement(y.a,null,e)}))),s.a.createElement(D.d,null,t.map((function(e){return s.a.createElement(D.c,null,Object.keys(e).map((function(t){return"jiraLink"==t&&"No JQL Query Found"!=e[t]?s.a.createElement(D.a,null,s.a.createElement(h.a,{direction:"row",gap:"size-50",alignItems:"end"},s.a.createElement(b.a,null,s.a.createElement("a",{href:e[t],target:"_blank"},"View in Jira")),s.a.createElement(B.a,{size:"XS"}))):s.a.createElement(D.a,null,e[t])})))}))))}}]),a}(n.Component),T=a(746),F=a(743),L=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.message,t=this.props.severity,a=this.props.handler;return s.a.createElement(T.a,{open:"true",autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:a},s.a.createElement(F.a,{severity:t,variant:"filled",sx:{position:"absolute",bottom:30,maxWidth:"50%",fontStyle:"Adobe Clean"}},e))}}]),a}(n.Component),M=a(22),O=a.n(M),x=a(120),R=a(104),z=a.n(R),V=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"getMethodCall",value:function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e,a){z.a.get(P.baseApi+t).then((function(t){e(t)})).catch((function(e){e.response?a(e.response.data):e.request?a("Response not recieved"):a(e.stack)}))})),e.next=3,n;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"glaasGetMethodCall",value:function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e,n){z.a.get(t,a).then((function(t){e(t)})).catch((function(e){e.response?n(e.response.data):e.request?n("Response not recieved"):n(e.stack)}))})),e.next=3,n;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"postMethodCall",value:function(){var e=Object(x.a)(O.a.mark((function e(t,a,n){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Promise((function(e,s){z.a.post(P.baseApi+t,a,{responseType:n}).then((function(t){e(t)})).catch((function(e){e.response?e.response.data?s(e.response.data):s(e.response):s(e)}))})),e.next=3,s;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}();V.responseObject={object:null,error:null};var I=V,_=a(117),Q=a(78),H=Object(Q.b)({name:"bugDataResults",initialState:{value:[]},reducers:{addResults:function(e,t){e.value.push(t.payload)},removeResults:function(e){for(;e.value.length>0;)e.value.pop()}}}),U=H.actions,G=U.addResults,N=U.removeResults,W=H.reducer,J=Object(Q.b)({name:"showTableView",initialState:{value:{pquaTableView:!1,bugDataTableView:!1}},reducers:{showPquaTableView:function(e){e.value.pquaTableView=!0},hidePquaTableView:function(e){e.value.pquaTableView=!1},showBugDataTableView:function(e){e.value.bugDataTableView=!0},hideBugDataTableView:function(e){e.value.bugDataTableView=!1}}}),Y=J.actions,X=Y.showPquaTableView,K=Y.hidePquaTableView,$=Y.showBugDataTableView,Z=Y.hideBugDataTableView,ee=J.reducer,te=(a(198),a(741)),ae=a(739),ne=a(740),se=a(728),oe=a(752),re=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.startDate,t=this.props.endDate,a=this.props.dateHandler;return s.a.createElement(se.b,{dateAdapter:ne.a},s.a.createElement(ae.a,{startText:"",endText:"",disableFuture:!0,value:[e,t],onChange:function(e){null!==e[0]&&null!==e[1]&&a(e)},renderInput:function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(te.a,Object.assign({},e,{sx:{backgroundColor:"#FAFAFA"},InputProps:{style:{height:32,fontSize:14,fontFamily:"Adobe Clean",color:"#4B4B4B"}}})),s.a.createElement(oe.a,{sx:{mx:2,fontFamily:"Adobe Clean",fontSize:14,color:"#6E6E6E"}}," to "),s.a.createElement(te.a,Object.assign({},t,{sx:{backgroundColor:"#FAFAFA"},InputProps:{style:{height:32,fontSize:14,fontFamily:"Adobe Clean",color:"#4B4B4B"}}})))}}))}}]),a}(n.Component),le=a(750),ie=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.value;this.props.selectionHandler;return s.a.createElement(le.b,{label:"Platform",orientation:"horizontal",value:t,onChange:function(t){return e.props.selectionHandler(t)}},s.a.createElement(le.a,{value:"Desktop"},"Desktop"),s.a.createElement(le.a,{value:"Web"},"Web"),s.a.createElement(le.a,{value:"Mobile - iOS"},"Mobile - iOS"),s.a.createElement(le.a,{value:"Mobile - Android"},"Mobile - Android"))}}]),a}(n.Component),ce=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={productList:[],categoryList:[],selectedProductName:"",selectedPlatform:"",selectedCategory:[],totalCategoriesSelected:"0 selected",startDate:"",endDate:"",isFetchButtonDisabled:!0,fetchingResults:!1,showToastMessage:!1,toastMessage:"",toastVariant:"",resourceLoadingError:!1},e.onProductSelection=function(t){e.setState({selectedProductName:t},(function(){e.enableFetchButton()}))},e.platformSelectionHandler=function(t){e.setState({selectedPlatform:t},(function(){e.enableFetchButton()})),console.log("Selected - "+t)},e.onCategorySelection=function(t){if("string"===typeof t)e.setState({selectedCategory:e.props.categoryList,totalCategoriesSelected:e.props.categoryList.length+" selected"},(function(){e.enableFetchButton()}));else if(0===t.size)e.setState({selectedCategory:[],totalCategoriesSelected:t.size+" selected"},(function(){e.enableFetchButton()}));else{var a,n=[],s=Object(f.a)(t.keys());try{for(s.s();!(a=s.n()).done;){var o=a.value;n.push(o)}}catch(r){s.e(r)}finally{s.f()}e.setState({selectedCategory:n,totalCategoriesSelected:n.length+" selected"},(function(){e.enableFetchButton()}))}},e.onFetchResults=function(){var t={product_name:e.state.selectedProductName,platform:e.state.selectedPlatform,bug_category:e.state.selectedCategory,start_date:e.state.startDate,end_date:e.state.endDate};e.setState({fetchingResults:!0,showToastMessage:!1}),e.props.hideBugDataTableView(),e.props.removeResults();var a=e.state.selectedProductName+"("+e.state.selectedPlatform+")",n=e.state.startDate,s=e.state.endDate;I.postMethodCall(P.viewerApis.dataResult,t).then((function(t){if(200===t.status){for(var o in t.data){var r={product:a,category:o,startDate:n,endDate:s,bugCount:t.data[o].count,jiraLink:t.data[o].link};e.props.addResults(r)}e.setState({fetchingResults:!1,isFetchButtonDisabled:!0},(function(){return e.props.showBugDataTableView()}))}else e.setState({fetchingResults:!1,isFetchButtonDisabled:!0,showToastMessage:!0,toastMessage:"We're facing issues in fetching this data right now. Please try again later.",toastVariant:"error"})})).catch((function(t){e.setState({fetchingResults:!1,isFetchButtonDisabled:!0,showToastMessage:!0,toastMessage:t,toastVariant:"error"})}))},e.onSnackbarClose=function(t){e.setState({showToastMessage:!1})},e.handleDateRange=e.handleDateRange.bind(Object(E.a)(e)),e}return Object(i.a)(a,[{key:"enableFetchButton",value:function(){""!==this.state.selectedProductName&&0!==this.state.selectedCategory.length&&""!==this.state.startDate&&""!==this.state.endDate&&""!=this.state.selectedPlatform?this.setState({isFetchButtonDisabled:!1}):this.setState({isFetchButtonDisabled:!0})}},{key:"handleDateRange",value:function(e){var t=this,a=new Date(e[0]),n=new Date(e[1]);this.setState({startDate:(a.getMonth()+1).toString()+"/"+a.getDate().toString()+"/"+a.getFullYear().toString(),endDate:(n.getMonth()+1).toString()+"/"+n.getDate().toString()+"/"+n.getFullYear().toString()},(function(){return t.enableFetchButton()}))}},{key:"render",value:function(){var e,t,a=this,n=this.props.productList,o=this.props.categoryList;return e=this.props.showTableView.bugDataTableView?s.a.createElement(j,{headers:["Product","Bug Category","From date","To date","Bug Count","Jira Link"],data:this.props.bugDataResults}):this.state.fetchingResults?s.a.createElement(d.d,null,s.a.createElement(g.a,{"aria-label":"Fetching results",label:"Fetching results...",labelPosition:"top",isIndeterminate:!0})):s.a.createElement(s.a.Fragment,null),this.state.showToastMessage&&(t=s.a.createElement(L,{message:this.state.toastMessage,severity:this.state.toastVariant,handler:this.onSnackbarClose})),s.a.createElement(v.a,{margin:"size-800"},s.a.createElement(w.a,{marginX:"size-1000",marginY:"size-200"},s.a.createElement(p.a,{level:2},"View Bug Data"),s.a.createElement(h.a,{direction:"row",gap:"size-100"},s.a.createElement(A,{label:"Product",list:n,selectionHandler:this.onProductSelection}),s.a.createElement(g.b,{flexGrow:"1",size:"S",isIndeterminate:!0,alignSelf:"end",isHidden:n.length>0})),s.a.createElement(ie,{value:this.state.selectedPlatform,selectionHandler:this.platformSelectionHandler}),s.a.createElement("label",{for:"lifestory",class:"spectrum-FieldLabel spectrum-FieldLabel--sizeM"},"Bug Categories (",this.state.totalCategoriesSelected,")"),s.a.createElement(y.b,{height:"size-3000","aria-label":"Example table with dynamic content",selectionMode:"multiple",selectedKeys:this.state.selectedCategory,onSelectionChange:function(e){return a.onCategorySelection(e)}},s.a.createElement(D.e,null,s.a.createElement(y.a,null,"Select All")),s.a.createElement(D.d,null,o.map((function(e){return s.a.createElement(D.c,{key:e},s.a.createElement(D.a,null,e))})))),s.a.createElement(h.a,{direction:"row",gap:"size-200",alignItems:"end",marginTop:"size-200"},s.a.createElement(d.d,null,s.a.createElement("label",{for:"lifestory",class:"spectrum-FieldLabel spectrum-FieldLabel--sizeM"},"Date range"),s.a.createElement(re,{startDate:this.state.startDate,endDate:this.state.endDate,dateHandler:function(e){return a.handleDateRange(e)}})),s.a.createElement(d.d,null,s.a.createElement(S.b,{variant:"cta",isDisabled:this.state.isFetchButtonDisabled,onPress:this.onFetchResults},s.a.createElement(p.b,null,"Fetch")))),this.state.resourceLoadingError&&this.state.showToastMessage?s.a.createElement(L,{message:this.state.toastMessage,severity:this.state.toastVariant,handler:this.onSnackbarClose}):s.a.createElement(s.a.Fragment,null),e,t))}}]),a}(n.Component),ue={addResults:G,removeResults:N,showBugDataTableView:$,hideBugDataTableView:Z},de=Object(_.b)((function(e){return{bugDataResults:e.bugDataResults.value,showTableView:e.showTableView.value}}),ue)(ce),me=a(179),pe=a(256),he=a.n(pe),ge=a(257),be=a.n(ge),fe=a(106),Ee=(a(360),a(258)),ve=a.n(Ee),we=a(259),Se=a.n(we),ye=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement(me.a,{"aria-label":"Side Navigation",defaultSelectedKeys:["1"],marginTop:"size-700"},s.a.createElement(C.b,{title:"Manage Data"},s.a.createElement(C.a,{key:"1"},s.a.createElement(p.b,{margin:"size-75"},s.a.createElement("span",{style:{paddingRight:"10px"}},s.a.createElement(ve.a,{size:"S"})),s.a.createElement(fe.b,{className:"link",to:"/pqua-data"},"Extract PQuA Data"))),s.a.createElement(C.a,{key:"2"},s.a.createElement(p.b,{margin:"size-75"},s.a.createElement("span",{style:{paddingRight:"10px"}},s.a.createElement(Se.a,{size:"S"})),s.a.createElement(fe.b,{className:"link",to:"/download-pods"},"Download AQB Pods"))),s.a.createElement(C.a,{key:"3"},s.a.createElement(p.b,{margin:"size-75"},s.a.createElement("span",{style:{paddingRight:"10px"}},s.a.createElement(he.a,{size:"S"})),s.a.createElement(fe.b,{className:"link",to:"/bug-data"},"View Bug Data")))),s.a.createElement(C.b,{title:"Manage Products"},s.a.createElement(C.a,{key:"4"},s.a.createElement(p.b,{margin:"size-75"},s.a.createElement("span",{style:{paddingRight:"10px"}},s.a.createElement(be.a,{size:"S"})),s.a.createElement(fe.b,{className:"link",to:"/add-update-queries"},"Add/Update Product Queries")))))}}]),a}(n.Component),De=a(744),Pe=a(180),ke=a(261),Ce=a.n(ke),Ae=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={selectedProduct:"",selectedPlatform:"",selectedCategory:"",jqlValue:"",jqlLastModifiedBy:"",editButtonDisabled:!0,jqlFieldEditingDisabled:!0,addUpdateButtonDisabled:!0,fetchingResponse:!1,processingSubmissionFlag:!1,showToastMessageMessage:!1,toastVariant:"",toastMessage:"",submissionbuttonID:"",resourceLoadingError:!1,isAddButtonDisabled:!0,jqlExistsForProductAndCategory:!0},n.jqlSubmissionHandler=function(e){var t={product_name:n.state.selectedProduct,platform:n.state.selectedPlatform,bug_category:n.state.selectedCategory,jql_query:n.state.jqlValue,modified_by:localStorage.getItem("userLdap")};n.setState({showToastMessage:!1,processingSubmissionFlag:!0,addUpdateButtonDisabled:!0}),I.postMethodCall(P.iqeApis.postJql,t).then((function(e){200===e.status?n.setState({processingSubmissionFlag:!1,jqlFieldEditingDisabled:!0,editButtonDisabled:!1,showToastMessage:!0,toastMessage:e.data.message,toastVariant:"success",jqlLastModifiedBy:e.data.modified_by}):n.setState({processingSubmissionFlag:!1,jqlFieldEditingDisabled:!0,editButtonDisabled:!1,showToastMessage:!0,toastMessage:e.data,toastVariant:"error",jqlLastModifiedBy:""})})).catch((function(e){n.setState({processingSubmissionFlag:!1,jqlFieldEditingDisabled:!0,editButtonDisabled:!1,showToastMessage:!0,toastMessage:e,toastVariant:"error",jqlLastModifiedBy:""})}))},n.jqlEditButtonHandler=function(){n.setState({editButtonDisabled:!0,jqlFieldEditingDisabled:!1,jqlExistsForProductAndCategory:!0})},n.productSelectionHandler=function(e){n.setState({selectedProduct:e},(function(){n.fetchExistingJQL()}))},n.platformSelectionHandler=function(e){n.setState({selectedPlatform:e},(function(){n.fetchExistingJQL()}))},n.categorySelectionHandler=function(e,t){n.setState({selectedCategory:e},(function(){n.fetchExistingJQL()}))},n.onSnackbarClose=function(e){n.setState({showToastMessage:!1})},n}return Object(i.a)(a,[{key:"fetchExistingJQL",value:function(){var e=this;if(""!==this.state.selectedProduct&&""!==this.state.selectedCategory&&""!=this.state.selectedPlatform){this.setState({fetchingResponse:!0,showToastMessage:!1});var t={product_name:this.state.selectedProduct,platform:this.state.selectedPlatform,bug_category:this.state.selectedCategory};I.postMethodCall(P.iqeApis.fetchJQL,t).then((function(t){200===t.status?e.setState({jqlValue:t.data.jql_string,jqlLastModifiedBy:t.data.modified_by,editButtonDisabled:!1,fetchingResponse:!1,jqlExistsForProductAndCategory:!0}):400!==t.status&&206!==t.status||e.setState({jqlValue:"",jqlLastModifiedBy:"",editButtonDisabled:!1,fetchingResponse:!1,jqlExistsForProductAndCategory:!1,showToastMessage:!0,toastMessage:t.data,toastVariant:"info"})})).catch((function(t){e.setState({jqlValue:"",jqlLastModifiedBy:"",editButtonDisabled:!1,fetchingResponse:!1,jqlExistsForProductAndCategory:!1,showToastMessage:!0,toastMessage:t,toastVariant:"error"})}))}}},{key:"render",value:function(){var e,t=this,a=this.props.productList,n=this.props.categoryList;return e=this.state.showToastMessage?s.a.createElement(L,{message:this.state.toastMessage,severity:this.state.toastVariant,handler:this.onSnackbarClose}):this.state.processingSubmissionFlag?s.a.createElement(d.d,null,s.a.createElement(g.a,{label:"Loading\u2026",isIndeterminate:!0})):s.a.createElement(s.a.Fragment,null),s.a.createElement(v.a,{margin:"size-800"},s.a.createElement(w.a,{marginX:"size-1000",marginY:"size-200"},s.a.createElement(p.a,{level:2},"Add/Update Product Queries"),s.a.createElement(h.a,{direction:"row",gap:"size-100"},s.a.createElement(A,{label:"Product",list:a,selectionHandler:this.productSelectionHandler}),s.a.createElement(g.b,{flexGrow:"1",size:"S",isIndeterminate:!0,alignSelf:"end",isHidden:a.length>0})),s.a.createElement(ie,{value:this.state.selectedPlatform,selectionHandler:this.platformSelectionHandler}),s.a.createElement(A,{label:"Bug Category",list:n,selectionHandler:this.categorySelectionHandler}),s.a.createElement(h.a,{direction:"row",gap:"size-100",alignItems:"end"},s.a.createElement(De.a,{label:"Enter/Update JQL",flexGrow:"400",minWidth:"size-600",isReadOnly:this.state.jqlFieldEditingDisabled,value:this.state.jqlValue,onChange:function(e){0!==e.length?t.setState({addUpdateButtonDisabled:!1,jqlValue:e}):t.setState({addUpdateButtonDisabled:!0,jqlValue:e})}}),s.a.createElement(d.d,{flexGrow:"1"},this.state.fetchingResponse?s.a.createElement(g.b,{"aria-label":"Loading\u2026",size:"M",isIndeterminate:!0}):s.a.createElement(Pe.b,null,s.a.createElement(S.a,{alignSelf:"flex-end",isDisabled:this.state.editButtonDisabled,onPress:this.jqlEditButtonHandler},s.a.createElement(Ce.a,null)),s.a.createElement(Pe.a,null,"Edit JQL")))),s.a.createElement("label",{for:"lifestory",class:"spectrum-FieldLabel spectrum-FieldLabel--sizeM",style:{fontStyle:"italic"},hidden:null===this.state.jqlLastModifiedBy},"Last modified by: ",this.state.jqlLastModifiedBy),e,s.a.createElement(d.d,null,s.a.createElement(S.b,{variant:"cta",marginTop:"size-200",onPress:this.jqlSubmissionHandler,isDisabled:this.state.addUpdateButtonDisabled},this.state.jqlExistsForProductAndCategory?"Update":"Add")),s.a.createElement("br",null),s.a.createElement(d.d,null,s.a.createElement("span",{style:{fontStyle:"italic"}},s.a.createElement(d.c,null,s.a.createElement("b",null,"Instructions")),s.a.createElement(d.a,null,"1. Verify the query before submitting.",s.a.createElement("br",null),"2. Do not include date filters in the query.",s.a.createElement("br",null),"3. 'issueType = Bug' or 'type = Bug' is a mandatory filter.",s.a.createElement("br",null))))))}}]),a}(n.Component),qe=Object(Q.b)({name:"pquaResults",initialState:{value:[]},reducers:{addResults:function(e,t){e.value.push(t.payload)},removeResults:function(e){for(;e.value.length>0;)e.value.pop()}}}),Be=qe.actions,je=Be.addResults,Te=Be.removeResults,Fe=qe.reducer,Le=a(121),Me=a(262),Oe=a.n(Me),xe=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"ifSessionExpired",value:function(){var e=localStorage.getItem("pquaAuthTokenExpires");return null==e||(new Date).getTime()>e}}]),e}(),Re=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"authenticate",value:function(){var e=P.glaasUrl+P.glaasAuthApi+P.clientId;window.location.href=e}},{key:"checkSession",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var a=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var s={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:P.clientId+":"+t}};z.a.post(P.glaasUrl+P.glaasCheckSessionApi,null,s).then((function(t){200===t.status?(console.log("Check session - success"),e(t.data)):401===t.status&&(console.log("Check session - unauthorized\n Initiating auth"),a.authenticate())})).catch((function(e){500!==e.response.status&&401!==e.response.status||(console.log("Check session - fail, calling authenticate()"),a.authenticate()),e.response?n(e.response.data):e.request?n("Response not recieved"):n(e.stack)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"initiate",value:function(){var e=null;window.location.href.includes("access_token")?(e=this.parseUriWithHash(window.location.href),console.log("Extracted authToken from window address")):(e=localStorage.getItem("pquaAuthToken"),console.log("Extracted authToken from storage")),console.log("Performing checkSession call"),this.checkSession(e).then((function(t){console.log("Saving validated authToken & expiration time"),localStorage.setItem("pquaAuthToken",e),localStorage.setItem("pquaAuthTokenExpires",t.expiresOn),console.log("Saving user info to localStorage"),localStorage.setItem("userLdap",t.ldap),localStorage.setItem("userName",t.name),localStorage.setItem("userEmail",t.email)})).catch((function(e){console.log(e),console.log("Removing user info from localStorage"),localStorage.clear()}))}}]),e}();Re.parseUriWithHash=function(e){for(var t={},a=e.split("#")[1].split("&"),n=0;n<a.length;n++){var s=a[n].split("=")[0],o=a[n].split("=")[1];t[s]=o}return t.access_token};var ze=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={selectedProductName:"",selectedPlatform:"",startDate:"",endDate:"",showToastMessage:!1,toastVariant:"",toastMessage:"",isFetchButtonDisabled:!0,fetchingResults:!1,downloadInProgress:!0},e.onProductSelection=function(t){e.setState({selectedProductName:t},(function(){e.enableFetchButton()}))},e.platformSelectionHandler=function(t){e.setState({selectedPlatform:t},(function(){e.enableFetchButton()})),console.log("Selected - "+t)},e.onFetchPquaResults=function(){if(xe.ifSessionExpired())e.setState({fetchingResults:!1,isFetchButtonDisabled:!0,showToastMessage:!0,toastMessage:"Session expired - redirecting for authentication",toastVariant:"error"},Re.authenticate());else{var t=P.pquaAqbApis.pquaResult,a=localStorage.getItem("pquaAuthToken");console.log("Sending authtoken in params: "+a);var n={product_name:e.state.selectedProductName,platform:e.state.selectedPlatform,start_date:e.state.startDate,end_date:e.state.endDate,auth_token:a};e.setState({fetchingResults:!0,showToastMessage:!1}),e.props.hidePquaTableView(),e.props.removeResults(),I.postMethodCall(t,n,"json").then((function(t){200===t.status&&(e.setState({fetchingResults:!1,isFetchButtonDisabled:!0},e.createTableData),e.props.addResults(n),e.props.showPquaTableView())})).catch((function(t){e.setState({fetchingResults:!1,isFetchButtonDisabled:!0,showToastMessage:!0,toastMessage:"Something went wrong - could not fetch file.",toastVariant:"error"})}))}},e.downloadPQuASheet=function(){var t=P.pquaAqbApis.pquaDownload,a={product_name:e.props.pquaResults[0].product_name,platform:e.props.pquaResults[0].platform,end_date:e.props.pquaResults[0].end_date},n=e.state.selectedProductName+"PQuA_Data_"+e.state.endDate+".xlsx";e.setState({downloadInProgress:!1}),I.postMethodCall(t,a,"blob").then((function(t){e.setState({downloadInProgress:!0});var a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",n),document.body.appendChild(s),s.click(),s.parentNode.removeChild(s)})).catch((function(t){console.log(t),e.setState({showToastMessage:!0,toastMessage:"Something went wrong - could not download file.",toastVariant:"error",downloadInProgress:!0})}))},e.onSnackbarClose=function(t){e.setState({showToastMessage:!1})},e}return Object(i.a)(a,[{key:"handleDateRange",value:function(e){var t=this,a=new Date(e[0]),n=new Date(e[1]);this.setState({startDate:(a.getMonth()+1).toString()+"/"+a.getDate().toString()+"/"+a.getFullYear().toString(),endDate:(n.getMonth()+1).toString()+"/"+n.getDate().toString()+"/"+n.getFullYear().toString()},(function(){return t.enableFetchButton()}))}},{key:"enableFetchButton",value:function(){""!==this.state.selectedProductName&&""!==this.state.startDate&&""!==this.state.endDate&&""!=this.state.selectedPlatform?this.setState({isFetchButtonDisabled:!1}):this.setState({isFetchButtonDisabled:!0})}},{key:"render",value:function(){var e,t=this,a=this.props.productList;if(this.props.showTableView.pquaTableView){var n=s.a.createElement(h.a,{direction:"row"},s.a.createElement(S.b,{variant:"cta",isQuiet:!0,onPress:this.downloadPQuASheet},"Download"),s.a.createElement(g.b,{marginStart:"size-100",size:"S",isIndeterminate:!0,isHidden:this.state.downloadInProgress,alignSelf:"center"}));e=s.a.createElement(j,{headers:["Product","From Date","To date","Download File"],data:[[this.props.pquaResults[0].product_name+"("+this.props.pquaResults[0].platform+")",this.props.pquaResults[0].start_date,this.props.pquaResults[0].end_date,n]]})}else this.state.fetchingResults?e=s.a.createElement(d.d,{padding:"size-100"},s.a.createElement(g.a,{"aria-label":"Loading results",label:"Fetching data... This may take a while.",isIndeterminate:!0})):this.props.showTableView.pquaTableView&&this.state.showToastMessage&&(e=s.a.createElement(s.a.Fragment,null));var o=s.a.createElement(s.a.Fragment,null);return this.state.showToastMessage&&(o=s.a.createElement(L,{message:this.state.toastMessage,severity:this.state.toastVariant,handler:this.onSnackbarClose})),s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{margin:"size-800"},s.a.createElement(w.a,{marginX:"size-1000",marginY:"size-200"},s.a.createElement(p.a,{level:2},"Extract PQuA Data"),s.a.createElement(h.a,{direction:"row",gap:"size-100"},s.a.createElement(A,{label:"Product",list:a,selectionHandler:this.onProductSelection}),s.a.createElement(g.b,{flexGrow:"1",size:"S",isIndeterminate:!0,alignSelf:"end",isHidden:a.length>0})),s.a.createElement(ie,{value:this.state.selectedPlatform,selectionHandler:this.platformSelectionHandler}),s.a.createElement(h.a,{direction:"row",gap:"size-100",alignItems:"end",marginTop:"size-200"},s.a.createElement(d.d,null,s.a.createElement("label",{for:"lifestory",class:"spectrum-FieldLabel spectrum-FieldLabel--sizeM"},"Date range"),s.a.createElement(re,{startDate:this.state.startDate,endDate:this.state.endDate,dateHandler:function(e){return t.handleDateRange(e)}})),s.a.createElement(S.b,{variant:"cta",isDisabled:this.state.isFetchButtonDisabled,onPress:this.onFetchPquaResults},"Fetch")),e,o)),s.a.createElement(v.a,{margin:"size-800"},s.a.createElement(d.d,{marginX:"size-1000",marginY:"size-200"},s.a.createElement(p.a,null,"What's new in the 2021 PQuA template"),s.a.createElement(d.a,null,s.a.createElement("ul",null,s.a.createElement("li",null,"New slides on",s.a.createElement("ul",null,s.a.createElement("li",null,"INTL Ready Automation Framework"),s.a.createElement("li",null,"CICLCD with ODIS"),s.a.createElement("li",null,"Customer LOC Bugs Highlight"))),s.a.createElement("li",null,"More sample slides added for Functional Testing Double Click"),s.a.createElement("li",null,"Modifications in ",s.a.createElement("i",null,"WR Assessment")," and ",s.a.createElement("i",null,"Goals")," slides for action items on Core team"),s.a.createElement("li",null,"New theme and outline in accordance with the new Adobe template"),s.a.createElement("li",null,"Visit the ",s.a.createElement("a",{href:Le.pquaWiki,target:"_blank",style:{textDecoration:"none"}},"PQuA wiki")," for more"))),s.a.createElement("a",{href:Oe.a,download:"PQuA Template 2021",style:{textDecoration:"none"}},s.a.createElement(S.b,{variant:"cta"},"Download 2021 PQuA Template")))))}}]),a}(n.Component),Ve={addResults:je,removeResults:Te,showPquaTableView:X,hidePquaTableView:K},Ie=Object(_.b)((function(e){return{pquaResults:e.pquaResults.value,showTableView:e.showTableView.value}}),Ve)(ze),_e=a(49),Qe=a(745),He=a(152),Ue=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.web,t=this.props.mobile,a=this.props.desktop;return s.a.createElement(v.a,{marginTop:"size-200"},s.a.createElement(p.a,{level:4},"Benchmark Products"),s.a.createElement(h.a,{direction:"row",marginTop:"size-100",gap:"size-250"},s.a.createElement(d.d,{flexGrow:"1"},s.a.createElement(me.a,{selectionMode:"none"},s.a.createElement(C.b,{title:"Web Products"},e.map((function(e){return s.a.createElement(C.a,{key:e},s.a.createElement(p.b,null,e))}))))),s.a.createElement(d.d,{flexGrow:"1"},s.a.createElement(me.a,{selectionMode:"none"},s.a.createElement(C.b,{title:"Mobile Products"},t.map((function(e){return s.a.createElement(C.a,{key:e},s.a.createElement(p.b,null,e))}))))),s.a.createElement(d.d,{flexGrow:"1"},s.a.createElement(me.a,{selectionMode:"none"},s.a.createElement(C.b,{title:"Desktop Products"},a.map((function(e){return s.a.createElement(C.a,{key:e},s.a.createElement(p.b,null,e))})))))))}}]),a}(n.Component),Ge=a(173),Ne=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.data,t=this.props.title,a=this.props.lowerBandColor,n=this.props.upperBandColor;return s.a.createElement(Ge.a,{width:"500px",height:"250px",loader:s.a.createElement("div",null,"Loading Chart"),chartType:"ComboChart",data:e,options:{title:t,seriesType:"bars",vAxis:{format:"decimal",minValue:0,maxValue:100},series:{0:{color:"6A737B"},1:{color:"ABB3B8"},2:{type:"line",color:a},3:{type:"line",color:n}},legend:{position:"bottom"},backgroundColor:"F2F2F2"},rootProps:{"data-testid":"1"}})}}]),a}(n.Component),We=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={lowerBand:"80",upperBand:"87",data:[["Product","Loc Fixed%","English Fixed%","Upper band","Lower band"],["Sign",75,65,90,80],["Stock",82,77,90,80],["AEM",91,68,90,80],["CC ECOMM",88,72,90,80],["Connect",75,72,90,80]],options:{title:"Adobe Quality Band : Loc Fixed% : ",seriesType:"bars",vAxis:{viewWindow:{min:0,max:100}},series:{0:{color:"6A737B"},1:{color:"ABB3B8"},2:{type:"line",color:"#0ba34d"},3:{type:"line",color:"#b80909"}},legend:{position:"bottom"},backgroundColor:"F2F2F2"}},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(v.a,null,s.a.createElement(He.a,{"aria-label":"Default Pods"},["Web","Desktop","Mobile(iOS)","Mobile(Android)"].map((function(t){return s.a.createElement(C.a,{title:t,key:t+"-pods"},s.a.createElement(h.a,{direction:"row",gap:"size-100",marginTop:"size-100"},s.a.createElement(d.d,null,s.a.createElement(Ne,{lowerBand:e.state.lowerBand,upperBand:e.state.upperBand,data:e.state.data,options:e.state.options})),s.a.createElement(d.d,null,s.a.createElement(Ne,{lowerBand:e.state.lowerBand,upperBand:e.state.upperBand,data:e.state.data,options:e.state.options}))),s.a.createElement(S.b,{marginTop:"size-200",variant:"cta"},"Download ",t," pods - Q4'2020"))}))))}}]),a}(n.Component),Je=a(749),Ye=a(96),Xe=a(264),Ke=a.n(Xe),$e=(n.Component,a(266)),Ze=a.n($e),et=a(135),tt=a.n(et),at=a(267),nt=a.n(at),st=a(268),ot=a.n(st),rt=a(174),lt=a.n(rt),it=a(177),ct=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={selectedProducts:[],startDate:"",endDate:"",comboInputValue:"",selectedComboKey:"",isAddButtonDisabled:!0,isGenerateButtonDisabled:!0,duplicateProductSelected:!1,generatingPods:!1,plotAqbPods:!1,dataToPlot:[]},n.addProductToList=function(e){if(n.state.selectedProducts.includes(n.state.comboInputValue))n.setState({isAddButtonDisabled:!0,selectedComboKey:"",comboInputValue:"",duplicateProductSelected:!0});else{var t=n.state.selectedProducts;t.push(n.state.selectedComboKey),n.setState({selectedProducts:t,isAddButtonDisabled:!0,selectedComboKey:"",comboInputValue:"",duplicateProductSelected:!1},(function(){n.enableGenerateButton()}))}},n.generateCustomPods=function(e){n.setState({isGenerateButtonDisabled:!0,generatingPods:!0,plotAqbPods:!1});var t={product_name:n.state.selectedProducts,start_date:n.state.startDate,end_date:n.state.endDate};I.postMethodCall(P.pquaAqbApis.aqbPods,t).then((function(e){200===e.status&&n.plotCustomPods(e.data)})).catch((function(e){console.log("Error encountered : "+e),n.setState({generatingPods:!1})}))},n}return Object(i.a)(a,[{key:"productSelectionHandler",value:function(e){this.setState({selectedComboKey:e,isAddButtonDisabled:!1})}},{key:"dateRangeSelectionHandler",value:function(e){var t=this;this.setState({startDate:e.start,endDate:e.end},(function(){t.enableGenerateButton()}))}},{key:"onInputChange",value:function(e){this.setState({comboInputValue:e})}},{key:"removeSelectedProduct",value:function(e){var t,a=this,n=this.state.selectedProducts;for(t=0;t<n.length&&n[t]!==e;t++);n.splice(t,1),this.setState({selectedProducts:n},(function(){a.enableGenerateButton()}))}},{key:"enableGenerateButton",value:function(){this.state.selectedProducts.length>0&&""!=this.state.startDate&&""!=this.state.endDate?this.setState({isGenerateButtonDisabled:!1}):0===this.state.selectedProducts.length&&this.setState({isGenerateButtonDisabled:!0})}},{key:"plotCustomPods",value:function(e){var t;for(var a in e)t=[],"Loc Fixed"===a?(t.push(["Product","Loc Fixed%","English Fixed%","Upper band","Lower band"]),e[a].Data.map((function(e){t.push([e.Product,e.Values["Loc Bugs- Fixed"],e.Values.English,80,70])}))):"Loc Deferred"===a&&(t.push(["Product","Loc Deferred%","English Deferred%","Upper band","Lower band"]),e[a].Data.map((function(e){t.push([e.Product,e.Values["Loc Bugs - Deferred"],e.Values.English,80,70])}))),e[a].Data=t;this.setState({dataToPlot:e,plotAqbPods:!0,generatingPods:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement(v.a,null,s.a.createElement(w.a,{marginX:"size-100",marginY:"size-200"},s.a.createElement(h.a,{gap:"size-100",and:!0,direction:"row",alignItems:"end"},s.a.createElement(d.d,null,s.a.createElement("label",{for:"custom-pods-product-selection",class:"spectrum-FieldLabel"},"Select products"),s.a.createElement(tt.a,null,s.a.createElement(nt.a,{"aria-label":"Default",disabled:!1,invalid:!1,value:this.state.comboInputValue,onChange:function(t){return e.onInputChange(t)},onSelect:function(t){return e.productSelectionHandler(t)},options:this.props.productList,quiet:!1,required:!1}))),s.a.createElement(d.d,null,s.a.createElement(Pe.b,{isOpen:this.state.duplicateProductSelected},s.a.createElement(S.a,{isDisabled:this.state.isAddButtonDisabled,onPress:this.addProductToList},"Add"),s.a.createElement(Pe.a,{variant:"negative"},"Duplicate selection is not allowed!"))),s.a.createElement(d.d,{marginStart:"size-200"},s.a.createElement("label",{for:"custom-pods-date-range",class:"spectrum-FieldLabel"},"Select duration"),s.a.createElement(tt.a,null,s.a.createElement(Ze.a,{"aria-label":"Date range",headerFormat:"MMMM YYYY",max:"today",min:null,placement:"bottom",quiet:!1,required:!0,selectionType:"range",startDay:0,type:"date",onChange:function(t){return e.dateRangeSelectionHandler(t)}}))),s.a.createElement(d.d,{marginStart:"size-100"},s.a.createElement(S.b,{marginTop:"size-200",variant:"cta",isDisabled:this.state.isGenerateButtonDisabled,onPress:this.generateCustomPods},"Generate pods"))),this.state.selectedProducts.length>0?s.a.createElement(tt.a,null,s.a.createElement(it.Accordion,{"aria-label":"nested ComboBox",ariaLevel:3,defaultSelectedIndex:0,multiselectable:!1,onChange:function(){}},s.a.createElement(it.AccordionItem,{disabled:!1,header:"Selected Products",onItemClick:function(){},selected:!1},s.a.createElement(Je.a,null,this.state.selectedProducts.map((function(t){return s.a.createElement(C.a,{key:t},s.a.createElement(S.a,{"aria-label":"Remove product",isQuiet:!0,onPress:function(){return e.removeSelectedProduct(t)}},s.a.createElement(ot.a,{size:"S"})),s.a.createElement(p.b,{marginStart:"size-250"},t))})))))):s.a.createElement(s.a.Fragment,null),this.state.generatingPods?s.a.createElement(d.d,null,s.a.createElement(g.a,{"aria-label":"Loading",label:"Fetching data... This may take a while.",isIndeterminate:!0})):s.a.createElement(s.a.Fragment,null),this.state.plotAqbPods?s.a.createElement(tt.a,null,s.a.createElement(Ye.Grid,{variant:"fluid"},s.a.createElement(Ye.GridRow,null,s.a.createElement(Ye.GridColumn,{size:5},s.a.createElement(Ne,{data:this.state.dataToPlot["Loc Fixed"].Data,title:"Adobe Quality Band : Loc Fixed% : "+this.state.dataToPlot["Loc Fixed"]["Lower band"]+" - "+this.state.dataToPlot["Loc Fixed"]["Upper band"],lowerBandColor:"#0ba34d",upperBandColor:"#b80909"})),s.a.createElement(Ye.GridColumn,{size:5},s.a.createElement(Ne,{data:this.state.dataToPlot["Loc Deferred"].Data,title:"Adobe Quality Band : Loc Deferred% : "+this.state.dataToPlot["Loc Deferred"]["Lower band"]+" - "+this.state.dataToPlot["Loc Deferred"]["Upper band"],lowerBandColor:"#b80909",upperBandColor:"#0ba34d"})),s.a.createElement(Ye.GridColumn,{size:5},s.a.createElement(Ne,{data:this.state.dataToPlot["Loc Deferred"].Data,title:"Adobe Quality Band : Loc Deferred% : "+this.state.dataToPlot["Loc Deferred"]["Lower band"]+" - "+this.state.dataToPlot["Loc Deferred"]["Upper band"],lowerBandColor:"#b80909",upperBandColor:"#0ba34d"}))),s.a.createElement(Ye.GridRow,null,s.a.createElement(Ye.GridColumn,{size:4,offsetSize:9},s.a.createElement(S.b,{variant:"cta"},"Download pods"))))):s.a.createElement(s.a.Fragment,null)))}}]),a}(n.Component),ut=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={web:["Stock","Admin Console","CC ECOMM","AEM","Target","Sign"],desktop:["Adobe XD","Illustrator","Acrobat","Premiere Pro","Photoshop","Dreamweaver"],mobile:["Fresco","Capture","XD Mobile","Acrobat Reader","Lightroom Mobile"]},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.productList;return s.a.createElement(v.a,{margin:"size-800"},s.a.createElement(d.d,{marginX:"size-1000",marginY:"size-200"},s.a.createElement(p.a,{level:2},"Download AQB Pods"),s.a.createElement(He.a,{"aria-label":"Download AQB Pods",orientation:"horizontal"},s.a.createElement(C.a,{title:"Custom Pods",key:"custom-pods"},s.a.createElement(ct,{productList:e,index:"0"}),s.a.createElement(Ue,{web:this.state.web,desktop:this.state.desktop,mobile:this.state.mobile})),s.a.createElement(C.a,{title:"Default Pods",key:"default-pods"},s.a.createElement(We,null),s.a.createElement(Ue,{web:this.state.web,desktop:this.state.desktop,mobile:this.state.mobile})))))}}]),a}(n.Component),dt=Object(Qe.a)(ut),mt=(a(674),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={productList:[],categoryList:[],serverError:!1,badRequest:!1,verifyingSession:!1},e}return Object(i.a)(a,[{key:"setUserProductList",value:function(e){var t=[];e.map((function(e){"All"===e.productName||t.includes(e.productName)||t.push(e.productName)})),this.setState({productList:t})}},{key:"verifySessionDetails",value:function(){var e=this,t=null;window.location.href.includes("access_token")?(console.log("Redirection complete, extracting authToken"),t=Re.parseUriWithHash(window.location.href)):null!=localStorage.getItem("pquaAuthToken")&&null!=localStorage.getItem("pquaAuthTokenExpires")?(t=localStorage.getItem("pquaAuthToken"),console.log("Extracted authToken from storage"),xe.ifSessionExpired()&&(console.log("Session expired, calling initiate()"),Re.authenticate())):(console.log("Initiating auth workflow"),Re.authenticate()),console.log("Performing checkSession call"),Re.checkSession(t).then((function(a){console.log("Saving validated authToken, expiration time, and user details"),localStorage.setItem("pquaAuthToken",t),localStorage.setItem("pquaAuthTokenExpires",a.expiresOn),localStorage.setItem("userLdap",a.ldap),localStorage.setItem("userName",a.name),localStorage.setItem("userEmail",a.email),console.log("Fetching data for app"),e.fetchProductsAndCategories()})).catch((function(e){console.log(e),console.log("Removing user info from localStorage"),localStorage.clear()}))}},{key:"fetchProductsAndCategories",value:function(){var e=this,t=[],a=localStorage.getItem("pquaAuthToken");null!=a&&I.glaasGetMethodCall(P.glaasUrl+P.glaasProductApi,{headers:{accept:"application/json",Authorization:P.clientId+":"+a}}).then((function(t){200===t.status?(e.setUserProductList(t.data),e.setState({verifyingSession:!1})):401==t.status&&(console.log(),e.setState({badRequest:!0,verifyingSession:!1}))})).catch((function(t){console.log(t),e.setState({serverError:!0,verifyingSession:!1})})),I.getMethodCall(P.viewerApis.allBugCategories,{headers:{accept:"application/json"}}).then((function(a){200===a.status?(a.data.map((function(e){t.push(e[1])})),e.setState({categoryList:t})):400==a.status&&(console.log(),e.setState({badRequest:!0}))})).catch((function(t){console.log(t),e.setState({serverError:!0})}))}},{key:"componentDidMount",value:function(){this.fetchProductsAndCategories()}},{key:"renderAppContent",value:function(){var e=this;return this.state.serverError||this.state.badRequest?s.a.createElement(d.d,null,s.a.createElement(m.a,null,s.a.createElement(lt.a,null),s.a.createElement(p.a,null,"Unable to Connect"),s.a.createElement(d.a,null,"Unable to load data. Please check with the admin."))):this.state.verifyingSession?s.a.createElement(h.a,{direction:"row",gap:"size-100",alignSelf:"center",justifySelf:"center"},s.a.createElement(g.b,{alignSelf:"center",size:"M",isIndeterminate:!0}),s.a.createElement(p.a,{level:1},"Verifying session details...")):s.a.createElement(d.d,{backgroundColor:"gray-75",gridArea:"content"},s.a.createElement(_e.c,null,s.a.createElement(_e.a,{path:"/pqua",exact:!0,render:function(t){return s.a.createElement(Ie,{productList:e.state.productList})}}),s.a.createElement(_e.a,{path:"/download-pods",exact:!0,component:function(t){return s.a.createElement(dt,{productList:e.state.productList})}}),s.a.createElement(_e.a,{path:"/bug-data",exact:!0,component:function(t){return s.a.createElement(de,{productList:e.state.productList,categoryList:e.state.categoryList})}}),s.a.createElement(_e.a,{path:"/add-update-queries",exact:!0,render:function(t){return s.a.createElement(Ae,{productList:e.state.productList,categoryList:e.state.categoryList})}}),s.a.createElement(_e.a,{path:"/pqua-data",exact:!0,render:function(t){return s.a.createElement(Ie,{productList:e.state.productList})}})))}},{key:"render",value:function(){return s.a.createElement(fe.a,null,s.a.createElement(h.b,{areas:["sidebar content","footer footer"],columns:["1fr","5fr"],rows:["15fr","0.5fr"],height:window.innerHeight},s.a.createElement(d.d,{backgroundColor:"gray-200",gridArea:"sidebar"},s.a.createElement(ye,null)),this.renderAppContent(),s.a.createElement(d.d,{backgroundColor:"gray-100",gridArea:"footer",justifySelf:"center",margin:"size-50"},s.a.createElement(d.b,null,s.a.createElement(h.a,{direction:"row",gap:"size-100"},s.a.createElement(b.a,{isQuiet:!0},s.a.createElement("a",{href:Le.faqsPage,target:"_blank"},"Help")),s.a.createElement(b.a,{isQuiet:!0},s.a.createElement("a",{href:Le.pquaWiki,target:"_blank"},"Wiki")),s.a.createElement(b.a,{isQuiet:!0,onPress:function(e){window.location=Le.pquaGrpEmail}},"Contact Us"))))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=a(30),ht=a(738),gt=Object(Q.b)({name:"user",initialState:{value:{name:"",ldap:"",email:""}},reducers:{setUser:function(e,t){e.value.name=t.payload.name,e.value.ldap=t.payload.ldap,e.value.email=t.payload.email},removeUser:function(e){e.value.name=null,e.value.ldap=null,e.value.email=null}}}),bt=gt.actions,ft=(bt.setUser,bt.removeUser,gt.reducer,Object(Q.a)({reducer:{bugDataResults:W,showTableView:ee,pquaResults:Fe}}));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(pt.a,{theme:ht.a,colorScheme:"light"},s.a.createElement(_.a,{store:ft},s.a.createElement(mt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[293,1,2]]]);
//# sourceMappingURL=main.0320e6dc.chunk.js.map